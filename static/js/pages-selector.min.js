document.addEventListener("DOMContentLoaded",()=>{[{prefix:"rotate",currentPageVar:null},{prefix:"remove",currentPageVar:null},{prefix:"pageNumbers",currentPageVar:null},{prefix:"pages",currentPageVar:"currentPage"},{prefix:"watermarkPages",currentPageVar:"currentPage"}].forEach(({prefix:e,currentPageVar:t})=>{const r=document.getElementById(`${e}PagesAll`)||document.getElementById(`${e}All`),n=document.getElementById(`${e}PagesCurrent`)||document.getElementById(`${e}Current`),u=document.getElementById(`${e}PagesCustom`)||document.getElementById(`${e}Custom`),a=document.getElementById(`${e}PagesCustomInput`)||document.getElementById(`${e}CustomInput`),l=document.getElementById("pages");(r||n||u)&&(r&&r.addEventListener("change",()=>{a&&(a.disabled=!0,a.value="",a.removeAttribute("required")),l&&(l.value="all")}),n&&n.addEventListener("change",()=>{a&&(a.disabled=!0,a.value="",a.removeAttribute("required"));let e=1;if(t&&window[t])e=window[t];else{const t=document.getElementById("pageSelector");t&&(e=parseInt(t.value)||1)}l&&(l.value=e.toString())}),u&&a&&u.addEventListener("change",()=>{a.disabled=!1,a.focus(),a.hasAttribute("data-required")&&a.setAttribute("required","required")}),a&&l&&a.addEventListener("input",()=>{!a.disabled&&a.value.trim()&&(l.value=a.value.trim())}))}),document.addEventListener("submit",e=>{const t=e.target;if("FORM"!==t.tagName)return;const r=t.querySelectorAll('input[name="pagesOption"]');if(0===r.length)return;const n=t.querySelector('input[name="pages"][type="hidden"]');if(!n)return;let u=null;if(r.forEach(e=>{e.checked&&(u=e)}),!u)return void(n.value="all");const a=u.id;let l="all";if(a.includes("All")||a.endsWith("All"))l="all";else if(a.includes("Current")||a.endsWith("Current")){let e=1;const r=t.querySelector("#pageSelector");r?e=parseInt(r.value)||1:window.currentPage&&(e=window.currentPage),l=e.toString()}else if(a.includes("Custom")||a.endsWith("Custom")){const r=a.replace("PagesCustom","").replace("Custom","");let n=t.querySelector(`#${r}PagesCustomInput`);if(n||(n=t.querySelector(`#${r}CustomInput`)),n||(n=t.querySelector('input[name="pagesCustom"]')),n&&n.value.trim())l=n.value.trim();else{if(a.includes("remove"))return e.preventDefault(),void alert(window.ENTER_PAGE_NUMBERS||'Please enter page numbers to remove, or select "All pages" or "Current page only"');l="all"}}n.value=l},!0)});