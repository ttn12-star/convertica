document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("freeUserNote"),o=document.getElementById("premiumUserNote");if(null!==document.querySelector('[data-premium="true"]'))o&&o.classList.remove("hidden"),e&&e.classList.add("hidden");else{e&&e.classList.remove("hidden"),o&&o.classList.add("hidden");const r=document.createElement("div");r.className="mt-2",r.innerHTML='<a href="/pricing/" class="text-sm text-amber-600 hover:text-amber-700 font-medium">Upgrade to Premium from $6/month â†’</a>',e&&!e.querySelector(".mt-2")&&e.appendChild(r)}const t=document.getElementById("ocrEnabled"),n=document.getElementById("ocrLanguageSection"),a=document.getElementById("ocrLanguage"),s=new URLSearchParams(window.location.search),l=["1","true","yes","on"].includes((s.get("ocr")||"").toLowerCase()),d=(s.get("ocr_lang")||"").trim().toLowerCase();if(console.log("OCR Debug: ocrEnabled found:",!!t),console.log("OCR Debug: ocrLanguageSection found:",!!n),console.log("OCR Debug: ocrLanguageSelect found:",!!a),t&&n&&a){function c(){t.checked?(n.style.opacity="1",n.style.pointerEvents="auto",a.disabled=!1,console.log("OCR Debug: Language section enabled")):(n.style.opacity="0.5",n.style.pointerEvents="none",a.disabled=!0,console.log("OCR Debug: Language section disabled"))}if(console.log("OCR Debug: All elements found, setting up event listener"),t.addEventListener("change",c),l&&!t.disabled&&(t.checked=!0),d&&!a.disabled){Array.from(a.options).some(e=>e.value.toLowerCase()===d)&&(a.value=d)}c()}else console.log("OCR Debug: OCR language selection not available (user not premium)")});