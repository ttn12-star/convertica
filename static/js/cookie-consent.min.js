function getCookieConsent(){const e=localStorage.getItem("cookie_consent"),n="true"===localStorage.getItem("cookie_analytics"),t="true"===localStorage.getItem("cookie_marketing"),o=localStorage.getItem("cookie_consent_date");return{consent:e,analytics:n,marketing:t,consentDate:o?new Date(o):null,hasConsented:null!==e}}function isAnalyticsAllowed(){return!0===getCookieConsent().analytics}function isMarketingAllowed(){return!0===getCookieConsent().marketing}function hasUserConsented(){return getCookieConsent().hasConsented}function initAnalyticsIfAllowed(e){isAnalyticsAllowed()?"function"==typeof e?e():void 0!==window.gtag&&window.gtag("consent","update",{analytics_storage:"granted"}):void 0!==window.gtag&&window.gtag("consent","update",{analytics_storage:"denied"})}function initMarketingIfAllowed(e){isMarketingAllowed()&&"function"==typeof e&&e()}function trackPageView(e){isAnalyticsAllowed()&&void 0!==window.gtag&&window.gtag("config","GA_MEASUREMENT_ID",{page_path:e})}function trackEvent(e,n){isAnalyticsAllowed()&&void 0!==window.gtag&&window.gtag("event",e,n)}window.addEventListener("cookieConsentAccepted",function(e){initAnalyticsIfAllowed(),initMarketingIfAllowed()}),window.addEventListener("cookieConsentRejected",function(e){}),window.addEventListener("cookieConsentUpdated",function(e){initAnalyticsIfAllowed(),initMarketingIfAllowed()}),"undefined"!=typeof window&&(window.CookieConsent={getCookieConsent:getCookieConsent,isAnalyticsAllowed:isAnalyticsAllowed,isMarketingAllowed:isMarketingAllowed,hasUserConsented:hasUserConsented,initAnalyticsIfAllowed:initAnalyticsIfAllowed,initMarketingIfAllowed:initMarketingIfAllowed,trackPageView:trackPageView,trackEvent:trackEvent});