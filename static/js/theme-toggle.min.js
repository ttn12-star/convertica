!function(){"use strict";const e="convertica_theme",t="light",r="dark";class n{constructor(){this.isPremium="true"===document.documentElement.dataset.isPremium;const e=this.getStoredTheme();this.currentTheme=this.isPremium&&e||t,this.init()}init(){this.applyTheme(this.currentTheme,!1),this.setupToggleButton(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{this.isPremium&&(this.getStoredTheme()||this.applyTheme(e.matches?r:t))})}getStoredTheme(){try{return localStorage.getItem(e)}catch(e){return null}}setStoredTheme(t){try{localStorage.setItem(e,t)}catch(e){console.warn("Failed to save theme preference:",e)}}applyTheme(e,n=!0){const o=document.documentElement,a=document.body;this.isPremium||e!==r||(e=t),e===r?(o.classList.add("dark"),a.classList.add("dark-mode")):(o.classList.remove("dark"),a.classList.remove("dark-mode")),this.currentTheme=e,this.setStoredTheme(e),this.updateToggleButton(),window.dispatchEvent(new CustomEvent("themeChanged",{detail:{theme:e}}))}toggleTheme(){if(console.log("Toggle theme clicked. isPremium:",this.isPremium),!this.isPremium)return console.log("Showing premium modal"),void this.showPremiumModal();const e=this.currentTheme===r?t:r;this.applyTheme(e)}setupToggleButton(){const e=document.getElementById("theme-toggle-btn");e&&(e.addEventListener("click",()=>this.toggleTheme()),this.updateToggleButton())}updateToggleButton(){const e=document.getElementById("theme-toggle-btn");if(!e)return;const t=e.querySelector(".theme-icon"),n=this.currentTheme===r;t&&(t.innerHTML=n?'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>':'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>'),e.setAttribute("aria-label",n?"Switch to light mode":"Switch to dark mode"),e.setAttribute("title",n?"Light Mode":"Dark Mode")}showPremiumModal(){const e=document.createElement("div");e.className="fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",e.innerHTML='\n                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-6 animate-scale-in">\n                    <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-amber-500 to-orange-600 rounded-full">\n                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>\n                        </svg>\n                    </div>\n                    <h3 class="text-2xl font-bold text-center mb-2 text-gray-900 dark:text-white">Premium Feature</h3>\n                    <p class="text-center text-gray-600 dark:text-gray-300 mb-6">\n                        Dark theme is available exclusively for Premium users. Upgrade now to enjoy this and many other premium features!\n                    </p>\n                    <div class="flex gap-3">\n                        <button onclick="this.closest(\'.fixed\').remove()" class="flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-gray-700 dark:text-gray-300 font-medium">\n                            Maybe Later\n                        </button>\n                        <a href="/pricing/" class="flex-1 px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-lg hover:from-amber-600 hover:to-orange-700 transition-all font-bold text-center">\n                            Upgrade Now\n                        </a>\n                    </div>\n                </div>\n            ',document.body.appendChild(e),e.addEventListener("click",t=>{t.target===e&&e.remove()})}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>new n):new n,window.ThemeManager=n}();