# ============================================
# Шаблон .env файла для Convertica
# ============================================
# Скопируйте этот файл в .env и заполните значениями
# cp env.example .env

# ============================================
# Django Settings
# ============================================
# Сгенерируйте: python3 -c "import secrets; print(secrets.token_urlsafe(50))"
SECRET_KEY=your-secret-key-here-min-50-chars

# DEBUG - False для production, True для development
DEBUG=False

# ALLOWED_HOSTS - Список разрешенных доменов (через запятую)
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,localhost,127.0.0.1

# ============================================
# Admin Security
# ============================================
# IP адреса, которым разрешен доступ к админке
# ВАЖНО: Если у вас динамический IP, он может измениться!
ADMIN_IP_WHITELIST=your-ip-address,127.0.0.1,::1

# Уникальный путь к админке (не используйте "admin"!)
ADMIN_URL_PATH=admin-secret-unique-path

# ============================================
# Production Security Settings
# ============================================
# ⚠️ ВАЖНО: Установите True ТОЛЬКО ПОСЛЕ настройки SSL!
# Сначала настройте SSL (Certbot), проверьте что HTTPS работает, затем включите
SECURE_SSL_REDIRECT=False  # Измените на True ПОСЛЕ настройки SSL
SESSION_COOKIE_SECURE=False  # Измените на True ПОСЛЕ настройки SSL
CSRF_COOKIE_SECURE=False  # Измените на True ПОСЛЕ настройки SSL

# ============================================
# Database (PostgreSQL)
# ============================================
DATABASE_ENGINE=postgresql
DATABASE_NAME=convertica
DATABASE_USER=convertica
# Сгенерируйте: openssl rand -base64 32
DATABASE_PASSWORD=your-strong-database-password
DATABASE_HOST=db
DATABASE_PORT=5432

POSTGRES_DB=convertica
POSTGRES_USER=convertica
POSTGRES_PASSWORD=your-strong-database-password

# ============================================
# Redis Configuration
# ============================================
# Сгенерируйте: openssl rand -base64 32
REDIS_PASSWORD=your-strong-redis-password
REDIS_URL=redis://:your-strong-redis-password@redis:6379/1

# ============================================
# Celery Configuration
# ============================================
CELERY_BROKER_URL=redis://:your-strong-redis-password@redis:6379/0
CELERY_RESULT_BACKEND=redis://:your-strong-redis-password@redis:6379/0

# ============================================
# Rate Limiting
# ============================================
RATELIMIT_ENABLE=True

# ============================================
# Cloudflare Turnstile (Anti-spam)
# ============================================
# Получите ключи на https://dash.cloudflare.com/ → Turnstile
TURNSTILE_SITE_KEY=your-site-key
TURNSTILE_SECRET_KEY=your-secret-key

# ============================================
# Email Configuration
# ============================================
# Development: django.core.mail.backends.console.EmailBackend
# Production: django.core.mail.backends.smtp.EmailBackend
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
DEFAULT_FROM_EMAIL=noreply@yourdomain.com
CONTACT_EMAIL=info@yourdomain.com

# ============================================
# WhiteNoise (Static files)
# ============================================
USE_WHITENOISE=False

# ============================================
# Gunicorn (опционально)
# ============================================
# GUNICORN_WORKERS=4
# GUNICORN_THREADS=2

# ============================================
# Celery (опционально)
# ============================================
# CELERY_CONCURRENCY=4

# ============================================
# Resource Limits (опционально)
# ============================================
# WEB_CPU_LIMIT=2.0
# WEB_MEMORY_LIMIT=1G
# CELERY_CPU_LIMIT=1.0
# CELERY_MEMORY_LIMIT=512M
# DB_CPU_LIMIT=1.0
# DB_MEMORY_LIMIT=512M
# REDIS_CPU_LIMIT=0.5
# REDIS_MEMORY_LIMIT=256M

# ============================================
# Sentry Error Tracking (опционально)
# ============================================
# Получите DSN на https://sentry.io/ (бесплатно до 5000 ошибок/месяц)
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
# SENTRY_ENVIRONMENT=production
# SENTRY_RELEASE=convertica@1.0.21
