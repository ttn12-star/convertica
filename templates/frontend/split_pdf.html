{% extends "frontend/edit_pdf_generic.html" %}
{% load i18n %}

{% block edit_options %}
  <div class="bg-gray-50 rounded-xl p-5 sm:p-6 border border-gray-200">
    <h3 class="text-lg font-bold mb-4 text-gray-900">{% trans "Split Settings" %}</h3>

    <div class="space-y-4">
        <!-- Split Type -->
      <div>
        <label for="split_type" class="block text-sm font-semibold text-gray-700 mb-2">
          {% trans "Split Type" %}
        </label>
        <select id="split_type" name="split_type"
                class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900">
          <option value="page">{% trans "By Individual Pages" %}</option>
          <option value="range">{% trans "By Page Ranges" %}</option>
          <option value="every_n">{% trans "Every N Pages" %}</option>
        </select>
      </div>

        <!-- Pages Specification -->
      <div id="pagesSpecSection">
        <label for="pages" class="block text-sm font-semibold text-gray-700 mb-2">
          <span id="pagesLabel">{% trans "Pages" %}</span>
        </label>
        <input type="text"
               id="pages"
               name="pages"
               placeholder=""
               class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900">
        <p class="mt-1.5 text-xs text-gray-500" id="pagesHelp">
          {% trans "Enter page numbers like '1,3,5' or leave empty for all pages" %}
        </p>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const splitType = document.getElementById('split_type');
      const pagesInput = document.getElementById('pages');
      const pagesLabel = document.getElementById('pagesLabel');
      const pagesHelp = document.getElementById('pagesHelp');

      function updatePagesInput() {
        const type = splitType.value;
        if (type === 'page') {
          pagesLabel.textContent = "{% trans 'Pages to Extract' %}";
          pagesInput.placeholder = "1,3,5 or leave empty for all";
          pagesHelp.textContent = "{% trans 'Enter comma-separated page numbers (e.g., 1,3,5) or leave empty to split all pages' %}";
        } else if (type === 'range') {
          pagesLabel.textContent = "{% trans 'Page Ranges' %}";
          pagesInput.placeholder = "1-3,5-7";
          pagesHelp.textContent = "{% trans 'Enter page ranges like 1-3,5-7 (required)' %}";
          pagesInput.required = true;
        } else if (type === 'every_n') {
          pagesLabel.textContent = "{% trans 'Pages per File' %}";
          pagesInput.placeholder = "5";
          pagesHelp.textContent = "{% trans 'Enter number of pages per file (e.g., 5 for every 5 pages)' %}";
          pagesInput.required = true;
        }
      }

      splitType?.addEventListener('change', updatePagesInput);
      updatePagesInput();
    });
  </script>
{% endblock %}

{% block help_section %}
  <div class="mt-8 sm:mt-10 bg-gradient-to-br from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-5 sm:p-7" style="font-family: 'Inter', 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;">
    <h2 class="text-lg sm:text-xl font-bold mb-4 text-gray-900" style="font-family: 'Poppins', sans-serif; font-weight: 700; letter-spacing: -0.02em;">
      {% trans "How it works" %}
    </h2>
    <ol class="list-decimal list-inside space-y-2.5 text-sm sm:text-base text-gray-700" style="font-family: 'Inter', sans-serif; font-weight: 500; line-height: 1.7;">
      <li>{% trans "Select your PDF file using the button above or drag and drop it into the zone below" %}</li>
      <li>{% trans "Choose how to split your PDF: by individual pages, by page ranges, or every N pages" %}</li>
      <li>{% trans "Enter the pages or ranges you want to split (e.g., 1,3,5 or 1-5 for splitting PDF into separate files)" %}</li>
      <li>{% trans "Click the split button to process your PDF and create separate PDF files" %}</li>
      <li>{% trans "Download the ZIP archive containing all split PDF files using the download button" %}</li>
    </ol>
    <div class="mt-4 pt-4 border-t border-blue-200">
      <p class="text-xs sm:text-sm text-gray-600">
        <strong>{% trans "Note:" %}</strong> {% trans "The output will be a ZIP archive containing all split PDF files. You can split your PDF by individual pages, by page ranges, or every N pages." %}
      </p>
      <p class="text-xs sm:text-sm text-gray-600 mt-2">
        {% trans "Perfect for: splitting PDF files into separate documents, dividing PDF documents into multiple files, splitting PDF by pages, breaking PDF into smaller files, splitting PDF by page ranges, dividing large PDF files, splitting PDF for easier sharing, breaking PDF into chapters, splitting PDF for email attachments, dividing PDF documents for storage, splitting PDF for mobile viewing, breaking PDF into sections, splitting PDF for presentations, dividing PDF files for printing, splitting PDF for archiving." %}
      </p>
    </div>
  </div>
{% endblock %}
