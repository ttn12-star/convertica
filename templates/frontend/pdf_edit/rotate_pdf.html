{% extends "frontend/edit_pdf_generic.html" %}
{% load i18n %}

{% block edit_options %}
  <div class="bg-gray-50 rounded-xl p-5 sm:p-6 border border-gray-200">
    <h3 class="text-lg font-bold mb-4 text-gray-900">{% trans "Rotation Settings" %}</h3>

    <div class="space-y-4">
        <!-- Rotation Angle -->
      <div>
        <label for="angle" class="block text-sm font-semibold text-gray-700 mb-2">
          {% trans "Rotation Angle" %}
        </label>
        <select id="angle" name="angle"
                class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900">
          <option value="90">90° {% trans "(Clockwise)" %}</option>
          <option value="180">180° {% trans "(Upside down)" %}</option>
          <option value="270">270° {% trans "(Counter-clockwise)" %}</option>
        </select>
      </div>

        <!-- Pages to Rotate -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-3">
          {% trans "Pages to Rotate" %}
        </label>
        <div class="space-y-3">
          <label class="flex items-center space-x-2 cursor-pointer">
            <input type="radio"
                   name="pagesOption"
                   id="rotatePagesAll"
                   value="all"
                   checked
                   class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="text-sm text-gray-700">{% trans "All pages" %}</span>
          </label>
          <label class="flex items-center space-x-2 cursor-pointer">
            <input type="radio"
                   name="pagesOption"
                   id="rotatePagesCurrent"
                   value="current"
                   class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="text-sm text-gray-700">{% trans "Current page only" %}</span>
          </label>
          <label class="flex items-center space-x-2 cursor-pointer">
            <input type="radio"
                   name="pagesOption"
                   id="rotatePagesCustom"
                   value="custom"
                   class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="text-sm text-gray-700">{% trans "Custom pages:" %}</span>
          </label>
          <input type="text"
                 id="rotatePagesCustomInput"
                 name="pagesCustom"
                 placeholder="1,3,5 or 1-5"
                 disabled
                 class="ml-6 w-full sm:w-auto min-w-[200px] px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50 text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"
                 pattern="^[\d,\- ]+$">
          <p class="ml-6 text-xs text-gray-500">
            {% trans "Enter specific pages like '1,3,5' or '1-5'" %}
          </p>
        </div>
        <input type="hidden" id="pages" name="pages" value="all">
      </div>
    </div>
  </div>
{% endblock %}

{% block help_section %}
  <!-- How it works -->
  <div class="mt-8 sm:mt-10 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-5 sm:p-7">
    <h2 class="text-lg sm:text-xl font-bold mb-4 text-gray-900 dark:text-gray-100">
      {% trans "How it works" %}
    </h2>
    <ol class="list-decimal list-inside space-y-2.5 text-sm sm:text-base text-gray-700 dark:text-gray-300 leading-relaxed">
      <li>{% trans "Select your PDF file using the button above or drag and drop" %}</li>
      <li>{% trans "Choose the rotation angle (90°, 180°, or 270°)" %}</li>
      <li>{% trans "Select which pages to rotate: all, current, or specific pages" %}</li>
      <li>{% trans "Click Rotate to process your PDF" %}</li>
      <li>{% trans "Download your rotated PDF file" %}</li>
    </ol>
    <div class="mt-4 pt-4 border-t border-blue-200 dark:border-blue-700">
      <p class="text-xs sm:text-sm text-gray-600 dark:text-gray-400">
        <strong>{% trans "Note:" %}</strong>
        {% blocktrans with max_pages=conversion_limits.max_free_pdf_pages %}
          PDF files with up to {{ max_pages }} pages are supported. Rotation preserves all content and formatting.
        {% endblocktrans %}
      </p>
    </div>
  </div>

  <!-- SEO Content Block -->
  {% include "frontend/includes/seo_content.html" with content_title=page_content_title content_body=page_content_body %}

  <!-- SEO Benefits -->
  {% include "frontend/includes/seo_benefits.html" with benefits=page_benefits benefits_title=benefits_title %}

  <!-- SEO Tips -->
  {% include "frontend/includes/seo_tips.html" with tips=page_tips tips_title=tips_title %}

  <!-- SEO FAQ -->
  {% include "frontend/includes/seo_faq.html" with faq=page_faq faq_title=faq_title %}
{% endblock %}
