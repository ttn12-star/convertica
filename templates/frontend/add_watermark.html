{% extends "frontend/edit_pdf_generic.html" %}
{% load i18n %}

{% block edit_options %}
<div class="bg-gray-50 rounded-xl p-5 sm:p-6 border border-gray-200">
    <h3 class="text-lg font-bold mb-4 text-gray-900">{% trans "Watermark Settings" %}</h3>
    
    <div class="space-y-4">
        <!-- Watermark Type -->
        <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2">
                {% trans "Watermark Type" %}
            </label>
            <div class="flex space-x-4">
                <label class="flex items-center">
                    <input type="radio" name="watermark_type" value="text" checked class="mr-2" id="watermarkTypeText">
                    <span>{% trans "Text" %}</span>
                </label>
                <label class="flex items-center">
                    <input type="radio" name="watermark_type" value="image" class="mr-2" id="watermarkTypeImage">
                    <span>{% trans "Image" %}</span>
                </label>
            </div>
        </div>

        <!-- Text Watermark -->
        <div id="textWatermarkSection">
            <label for="watermark_text" class="block text-sm font-semibold text-gray-700 mb-2">
                {% trans "Watermark Text" %}
            </label>
            <input type="text" 
                   id="watermark_text" 
                   name="watermark_text" 
                   value="CONFIDENTIAL"
                   maxlength="100"
                   class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900">
        </div>

        <!-- Image Watermark -->
        <div id="imageWatermarkSection" class="hidden">
            <label for="watermark_file" class="block text-sm font-semibold text-gray-700 mb-2">
                {% trans "Watermark Image" %} (PNG, JPG)
            </label>
            <input type="file" 
                   id="watermark_file" 
                   name="watermark_file" 
                   accept=".png,.jpg,.jpeg"
                   class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900">
        </div>

        <!-- Position -->
        <div>
            <label for="position" class="block text-sm font-semibold text-gray-700 mb-2">
                {% trans "Position" %}
            </label>
            <select id="position" name="position" 
                    class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900">
                <option value="diagonal">{% trans "Diagonal" %}</option>
                <option value="center">{% trans "Center" %}</option>
            </select>
        </div>

        <!-- Opacity -->
        <div>
            <label for="opacity" class="block text-sm font-semibold text-gray-700 mb-2">
                {% trans "Opacity" %} (0.1 - 1.0)
            </label>
            <input type="number" 
                   id="opacity" 
                   name="opacity" 
                   value="0.3"
                   min="0.1"
                   max="1.0"
                   step="0.1"
                   class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900">
        </div>

        <!-- Font Size (for text watermark) -->
        <div id="fontSizeSection">
            <label for="font_size" class="block text-sm font-semibold text-gray-700 mb-2">
                {% trans "Font Size" %} (12-200)
            </label>
            <input type="number" 
                   id="font_size" 
                   name="font_size" 
                   value="72"
                   min="12"
                   max="200"
                   class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900">
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const textRadio = document.getElementById('watermarkTypeText');
    const imageRadio = document.getElementById('watermarkTypeImage');
    const textSection = document.getElementById('textWatermarkSection');
    const imageSection = document.getElementById('imageWatermarkSection');
    const fontSizeSection = document.getElementById('fontSizeSection');
    
    textRadio?.addEventListener('change', () => {
        if (textRadio.checked) {
            textSection.classList.remove('hidden');
            imageSection.classList.add('hidden');
            fontSizeSection.classList.remove('hidden');
        }
    });
    
    imageRadio?.addEventListener('change', () => {
        if (imageRadio.checked) {
            textSection.classList.add('hidden');
            imageSection.classList.remove('hidden');
            fontSizeSection.classList.add('hidden');
        }
    });
});
</script>
{% endblock %}

